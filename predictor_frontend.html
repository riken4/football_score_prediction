<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Match Predictor (API Frontend)</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f2f5; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; margin-bottom: 30px; }
        select, button { width: 100%; padding: 12px; margin-bottom: 20px; font-size: 1em; }
        button { background: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .error { background: #f8d7da; color: #721c24; border-radius: 6px; padding: 15px; margin-bottom: 20px; }
        .result { background: #d1ecf1; border-radius: 6px; padding: 20px; margin-top: 20px; font-family: monospace; white-space: pre-wrap; }
    </style>
</head>
<body>
<div class="container">
    <h1>Football Match Predictor</h1>
    <form id="predictForm">
        <label for="home_team">Home Team:</label>
        <select id="home_team" required>
            <option value="">-- Select Home Team --</option>
            <option>Arsenal</option>
            <option>Chelsea</option>
            <option>Liverpool</option>
            <option>Man City</option>
            <option>Man Utd</option>
            <!-- Add more teams as needed -->
        </select>
        <label for="away_team">Away Team:</label>
        <select id="away_team" required>
            <option value="">-- Select Away Team --</option>
            <option>Arsenal</option>
            <option>Chelsea</option>
            <option>Liverpool</option>
            <option>Man City</option>
            <option>Man Utd</option>
            <!-- Add more teams as needed -->
        </select>
        <label for="season">Season:</label>
        <select id="season" required>
            <option value="">-- Select Season --</option>
            <option>2012-13</option>
            <option>2013-14</option>
            <option>2014-15</option>
            <option>2015-16</option>
            <option>2020-21</option>
            <!-- Add more seasons as needed -->
        </select>
        <button type="submit">Get Prediction</button>
    </form>
    <div id="output"></div>
</div>
<script>
    document.getElementById('predictForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const home_team = document.getElementById('home_team').value;
        const away_team = document.getElementById('away_team').value;
        const season = document.getElementById('season').value;
        const output = document.getElementById('output');
        output.innerHTML = '';
        if (home_team === away_team) {
            output.innerHTML = '<div class="error">Please select different teams for home and away.</div>';
            return;
        }
        try {
            const response = await fetch('http://127.0.0.1:5000/predict', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ home_team, away_team, season })
            });
            const data = await response.json();
            if (!response.ok) {
                output.innerHTML = `<div class="error">API Error: ${data.error || response.statusText}</div>`;
            } else {
                output.innerHTML = `<div class="result"><h2>Prediction Result:</h2><pre>${JSON.stringify(data, null, 2)}</pre></div>`;
            }
        } catch (err) {
            output.innerHTML = `<div class="error">Request failed: ${err.message}</div>`;
        }
    });
</script>
</body>
</html> 